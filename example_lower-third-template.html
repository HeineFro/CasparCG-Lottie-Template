<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Lottie Template 01</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        html {
            overflow: hidden;
        }
        body {
            margin: 0;
            width: 100vw;
        }
    </style>
</head>

<body id="animation">
    <script src='lottie.js'></script>

    <!--Animations-Script-->
    <script>
        //Paste Lottie File .JSON Code
        let lottieTemplate = { "v": "5.9.0", "fr": 25, "ip": 0, "op": 100, "w": 1920, "h": 1080, "nm": "Bodymovin_Template_expressions", "ddd": 0, "assets": [], "fonts": { "list": [{ "origin": 0, "fPath": "", "fClass": "", "fFamily": "Calibri", "fWeight": "", "fStyle": "Bold", "fName": "Calibri-Bold", "ascent": 68.0923461914063 }] }, "layers": [{ "ddd": 0, "ind": 2, "ty": 5, "nm": "f", "sr": 1, "ks": { "o": { "a": 1, "k": [{ "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 0, "s": [0] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 19, "s": [100] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 53, "s": [100] }, { "t": 72, "s": [0] }], "ix": 11 }, "r": { "a": 0, "k": 0, "ix": 10 }, "p": { "a": 0, "k": [86, 926, 0], "ix": 2, "l": 2 }, "a": { "a": 0, "k": [0, 0, 0], "ix": 1, "l": 2 }, "s": { "a": 0, "k": [100, 100, 100], "ix": 6, "l": 2 } }, "ao": 0, "t": { "d": { "k": [{ "s": { "s": 66, "f": "Calibri-Bold", "t": " ", "ca": 0, "j": 0, "tr": 0, "lh": 79.2000045776367, "ls": 0, "fc": [0.922, 0.922, 0.922] }, "t": 0 }] }, "p": {}, "m": { "g": 1, "a": { "a": 0, "k": [0, 0], "ix": 2 } }, "a": [] }, "ip": 0, "op": 100, "st": 0, "bm": 0 }, { "ddd": 0, "ind": 3, "ty": 5, "nm": "n", "sr": 1, "ks": { "o": { "a": 1, "k": [{ "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 0, "s": [0] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 19, "s": [100] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 53, "s": [100] }, { "t": 72, "s": [0] }], "ix": 11 }, "r": { "a": 0, "k": 0, "ix": 10 }, "p": { "a": 0, "k": [88, 832, 0], "ix": 2, "l": 2 }, "a": { "a": 0, "k": [0, 0, 0], "ix": 1, "l": 2 }, "s": { "a": 0, "k": [100, 100, 100], "ix": 6, "l": 2 } }, "ao": 0, "t": { "d": { "k": [{ "s": { "s": 105, "f": "Calibri-Bold", "t": "_name", "ca": 0, "j": 0, "tr": 0, "lh": 126.000007629395, "ls": 0, "fc": [0.922, 0.922, 0.922] }, "t": 0 }] }, "p": {}, "m": { "g": 1, "a": { "a": 0, "k": [0, 0], "ix": 2 } }, "a": [] }, "ip": 0, "op": 100, "st": 0, "bm": 0 }, { "ddd": 0, "ind": 4, "ty": 4, "nm": "Formebene 2", "sr": 1, "ks": { "o": { "a": 1, "k": [{ "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 0, "s": [0] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 19, "s": [100] }, { "i": { "x": [0.833], "y": [0.833] }, "o": { "x": [0.167], "y": [0.167] }, "t": 53, "s": [100] }, { "t": 72, "s": [0] }], "ix": 11 }, "r": { "a": 0, "k": 0, "ix": 10 }, "p": { "a": 0, "k": [336, 420, 0], "ix": 2, "l": 2 }, "a": { "a": 0, "k": [0, 0, 0], "ix": 1, "l": 2 }, "s": { "a": 0, "k": [100, 100, 100], "ix": 6, "l": 2 } }, "ao": 0, "shapes": [{ "ty": "gr", "it": [{ "ty": "rc", "d": 1, "s": { "a": 0, "k": [1256, 227], "ix": 2, "x": "var $bm_rt;\nvar x1, x2, y, s;\nx1 = thisComp.layer('n').sourceRectAtTime().width;\nx2 = thisComp.layer('f').sourceRectAtTime().width;\ny = content('Rechteck 1').content('Rechteckpfad: 1').size[1];\n$bm_rt = s = 160;\nif (x1 > x2) {\n    $bm_rt = [\n        x1 + s,\n        y\n    ];\n} else {\n    $bm_rt = [\n        x2 + s,\n        y\n    ];\n}" }, "p": { "a": 0, "k": [0, 0], "ix": 3, "x": "var $bm_rt;\n$bm_rt = $bm_div(content('Rechteck 1').content('Rechteckpfad: 1').size, 2);" }, "r": { "a": 0, "k": 0, "ix": 4 }, "nm": "Rechteckpfad: 1", "mn": "ADBE Vector Shape - Rect", "hd": false }, { "ty": "st", "c": { "a": 0, "k": [0.96470600203, 0, 1, 1], "ix": 3 }, "o": { "a": 0, "k": 100, "ix": 4 }, "w": { "a": 0, "k": 0, "ix": 5 }, "lc": 1, "lj": 1, "ml": 4, "bm": 0, "nm": "Kontur 1", "mn": "ADBE Vector Graphic - Stroke", "hd": false }, { "ty": "fl", "c": { "a": 0, "k": [0.076047672945, 0.599473302505, 0.843137254902, 1], "ix": 4 }, "o": { "a": 0, "k": 100, "ix": 5 }, "r": 1, "bm": 0, "nm": "Fl√§che 1", "mn": "ADBE Vector Graphic - Fill", "hd": false }, { "ty": "tr", "p": { "a": 0, "k": [-340, 316], "ix": 2 }, "a": { "a": 0, "k": [0, 0], "ix": 1 }, "s": { "a": 0, "k": [100, 100], "ix": 3 }, "r": { "a": 0, "k": 0, "ix": 6 }, "o": { "a": 0, "k": 100, "ix": 7 }, "sk": { "a": 0, "k": 0, "ix": 4 }, "sa": { "a": 0, "k": 0, "ix": 5 }, "nm": "Transformieren" }], "nm": "Rechteck 1", "np": 3, "cix": 2, "bm": 0, "ix": 1, "mn": "ADBE Vector Group", "hd": false }], "ip": 0, "op": 100, "st": 0, "bm": 0 }], "markers": [{ "tm": 0, "cm": "{\r\n\"name\":\"start\"\r\n}", "dr": 22 }, { "tm": 22, "cm": "{\r\n\"name\":\"still\"\r\n}", "dr": 32 }, { "tm": 55, "cm": "{\r\n\"name\":\"stop\"\r\n}", "dr": 21 }] }




        let playStatus = ""
        function update(rawData) {
            let lottieTemplateNew = lottieTemplate;
            if (rawData) {
                if (rawData.startsWith("<templateData>")) {
                    console.error("Data must be send as JSON")
                } else {
                    parsed = JSON.parse(rawData)
                    for (let key of Object.keys(parsed)) {
                        const regex = new RegExp(key, 'g');
                        lottieTemplateNew = JSON.parse(JSON.stringify(lottieTemplateNew).replace(regex, parsed[key]))
                    }
                    animation = bodymovin.loadAnimation({
                        container: document.getElementById("animation"),
                        renderer: "svg",
                        loop: false,
                        autoplay: false,
                        animationData: lottieTemplateNew,
                    })

                    if (playStatus == "play") {
                        animation.destroy();
                        animation = bodymovin.loadAnimation({
                            container: document.getElementById("animation"),
                            renderer: "svg",
                            loop: false,
                            autoplay: false,
                            animationData: lottieTemplateNew,
                        })
                        animation.goToAndPlay("still", true)
                    }
                }
            } else {
                animation = bodymovin.loadAnimation({
                    container: document.getElementById("animation"),
                    renderer: "svg",
                    loop: false,
                    autoplay: false,
                    animationData: lottieTemplateNew,
                })
                animation.goToAndPlay("start", true)
            }

        }
        function play() {

            animation.goToAndPlay("start", true)
            playStatus = "play"
        }
        function stop() {
            animation.goToAndPlay("stop", true)
            playStatus = ""
        }


    </script>

</body>

</html>